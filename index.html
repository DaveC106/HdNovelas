<!DOCTYPE html>
<html lang="es">
<head>
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-FC520PEEJ9"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-FC520PEEJ9');
</script>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Chepe Fortuna - Todos los Episodios</title>
    <link rel="stylesheet" href="stylesnovelas.css">
    <link rel="icon" type="image/png" href="favicon.png">
   <script type="text/javascript" data-cfasync="false">
/*<![CDATA[/* */
(function(){var h=window,q="de23a8d43868a60cf24c439df207dc04",r=[["siteId",254*131+378*556+4981787],["minBid",0],["popundersPerIP","2:1,1:12"],["delayBetween",0],["default",false],["defaultPerDay",0],["topmostLayer","auto"]],w=["d3d3LmJldHRlcmFkc3lzdGVtLmNvbS92c3RvbXAubWluLmNzcw==","ZDJrazBvM2ZyN2VkMDEuY2xvdWRmcm9udC5uZXQvU2xEZ2kvY2FuZ3VsYXItcmVzaXphYmxlLm1pbi5qcw=="],t=-1,d,n,m=function(){clearTimeout(n);t++;if(w[t]&&!(1781361459000<(new Date).getTime()&&1<t)){d=h.document.createElement("script");d.type="text/javascript";d.async=!0;var e=h.document.getElementsByTagName("script")[0];d.src="https://"+atob(w[t]);d.crossOrigin="anonymous";d.onerror=m;d.onload=function(){clearTimeout(n);h[q.slice(0,16)+q.slice(0,16)]||m()};n=setTimeout(m,5E3);e.parentNode.insertBefore(d,e)}};if(!h[q]){try{Object.freeze(h[q]=r)}catch(e){}m()}})();
/*]]>/* */
</script>


</head>
<body>
    <div class="container">
        <!-- Logo HD Novelas -->
        <div class="header-logo">
            <a href="index.html" class="logo-link">HD <span>Novelas</span></a>
        </div>

        <!-- Encabezado compacto -->
        <div class="compact-header">
            <img src="posterchepe.png" alt="Poster Chepe Fortuna" class="poster">
            <div class="episode-info">
                <select id="episode-selector" class="episode-selector">
                    <!-- Opciones se llenarán con JavaScript -->
                </select>
                <p>Chepe Fortuna</p>
                <p class="episode-description">
                    Chepe, un carismático pescador, y Niña Cabrales, una ecologista de alta sociedad, unen fuerzas para salvar su barrio. Sin saberlo, los une un pasado oculto que cambiará sus vidas y desatará una historia de amor, poder y destino.
                </p>
            </div>
        </div>

        <!-- Video inmediatamente visible -->
        <div class="video-container">
            <iframe id="video-frame" width="800" height="450" src="" frameborder="0" allowfullscreen></iframe>
        </div>

        <!-- Controles mejorados -->
        <div class="controls">
            <div class="server-buttons">
                <h3>Servidor:</h3>
                <button id="streamtape-btn" class="server-btn">Streamtape</button>
                <button id="doods-btn" class="server-btn active">DoodsStream</button>
            </div>
            
            <div class="episode-navigation">
                <button id="prev-episode" class="nav-btn" disabled>
                    <span class="arrow">←</span> Anterior
                </button>
                <span id="current-episode" class="episode-number">Episodio 1</span>
                <button id="next-episode" class="nav-btn">
                    Siguiente <span class="arrow">→</span>
                </button>
            </div>
        </div>
    </div>

     <!-- Buzón de sugerencias mejorado -->
    <div class="feedback-container">
      <div class="feedback-box">
        <h3>Buzón de Sugerencias y Mejoras</h3>
        <div class="feedback-content">
          <textarea placeholder="¿Qué serie te gustaría ver? ¿Cómo podemos mejorar? ¡Déjanos tu opinión!"></textarea>
          <button class="feedback-btn">Enviar</button>
        </div>
      </div>
    </div>


    <footer class="footer">
        <div class="footer-content">
            <p class="footer-logo">HD <span>Novelas</span> 2025</p>
            <div class="footer-disclaimer">
                <small>Esta página no almacena ni transmite contenido audiovisual</small>
                <small>Todos los enlaces provienen de servidores externos</small>
            </div>
            <div class="footer-links">
                <a href="terms.html" class="footer-link">Términos y políticas</a>
                <a href="#" class="footer-link">Contacto</a>
            </div>
        </div>
    </footer>

    <script>
        // Cargar los datos de los episodios
        fetch('chepe.json')
            .then(response => response.json())
            .then(data => {
                const episodes = data;
                let currentEpisode = 1;
                let currentServer = 'doods';

                // Elementos del DOM
                const videoFrame = document.getElementById('video-frame');
                const currentEpisodeDisplay = document.getElementById('current-episode');
                const prevBtn = document.getElementById('prev-episode');
                const nextBtn = document.getElementById('next-episode');
                const streamtapeBtn = document.getElementById('streamtape-btn');
                const doodsBtn = document.getElementById('doods-btn');
                const episodeSelector = document.getElementById('episode-selector');

                // Llenar el selector de episodios
                for (let i = 1; i <= 151; i++) {
                    const option = document.createElement('option');
                    option.value = i;
                    option.textContent = `Episodio ${i}`;
                    episodeSelector.appendChild(option);
                }

                // Cargar episodio inicial
                loadEpisode(currentEpisode);

                // Funciones
                function loadEpisode(episodeNumber) {
                    const episode = episodes[episodeNumber];
                    if (!episode) return;

                    const source = currentServer === 'stream' ? episode.stream : episode.doods;
                    videoFrame.src = source;
                    currentEpisodeDisplay.textContent = `Episodio ${episodeNumber}`;

                    // Actualizar selector
                    episodeSelector.value = episodeNumber;
                    
                    // Habilitar/deshabilitar botones de navegación
                    prevBtn.disabled = episodeNumber === 1;
                    nextBtn.disabled = episodeNumber === 151;
                }

                function changeServer(server) {
                    currentServer = server;
                    loadEpisode(currentEpisode);
                    
                    // Actualizar botones activos
                    if (server === 'stream') {
                        streamtapeBtn.classList.add('active');
                        doodsBtn.classList.remove('active');
                    } else {
                        streamtapeBtn.classList.remove('active');
                        doodsBtn.classList.add('active');
                    }
                }

                // Event listeners
                prevBtn.addEventListener('click', () => {
                    if (currentEpisode > 1) {
                        currentEpisode--;
                        loadEpisode(currentEpisode);
                    }
                });

                nextBtn.addEventListener('click', () => {
                    if (currentEpisode < 151) {
                        currentEpisode++;
                        loadEpisode(currentEpisode);
                    }
                });

                streamtapeBtn.addEventListener('click', () => changeServer('stream'));
                doodsBtn.addEventListener('click', () => changeServer('doods'));

                episodeSelector.addEventListener('change', (e) => {
                    const selectedEpisode = parseInt(e.target.value);
                    if (selectedEpisode !== currentEpisode) {
                        currentEpisode = selectedEpisode;
                        loadEpisode(currentEpisode);
                    }
                });

                // Hacer que los botones de navegación funcionen con teclado
                document.addEventListener('keydown', (e) => {
                    if (e.key === 'ArrowLeft' && !prevBtn.disabled) {
                        prevBtn.click();
                    } else if (e.key === 'ArrowRight' && !nextBtn.disabled) {
                        nextBtn.click();
                    }
                });
            })
            .catch(error => console.error('Error al cargar los episodios:', error));
    </script>
</body>
</html>